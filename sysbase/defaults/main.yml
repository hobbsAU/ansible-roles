---

# Switches
base_install_software: true
base_config_user: true
base_config_sshd: true
base_config_dotfiles: true
base_harden_system: true
base_config_fail2ban: true
base_autopdate_system: true
base_config_sysctl: true

# Packages
base_packages: [ 'vim', 'tar', 'rsync', 'git' ]
base_services: [ 'sshd' ]
#base_packages_removed: ['exim4*']

# SSHD config
base_sshd_pkg_state: "latest"
base_sshd_config_basedir: "/etc/ssh"
base_sshd_service_name: "ssh"
base_sshd_port: "22"
base_sshd_listen_address: "0.0.0.0"
base_sshd_usergroup: "ssh-users"
base_sshd_permit_root_login: "no"
base_sshd_retries: 2

# Fail2ban config
security_fail2ban_enabled: true
security_fail2ban_custom_configuration_template: "jail.local.j2"

# Autopdate config
security_autoupdate_blacklist: []
security_autoupdate_additional_origins: []
security_autoupdate_reboot: "true"
security_autoupdate_reboot_time: "03:00"
security_autoupdate_mail_to: ""
security_autoupdate_mail_on_error: true

# Hardening config
# Services to disable for hardening
services_to_disable: []

# Sysctl config
base_sysctl_overrides: []
# base_sysctl_overrides:
#   - { name: "net.ipv4.ip_forward", value: "1" }
#   - { name: "vm.swappiness", value: "10" }

# Dotfiles
base_dotfiles:
  - { path: "/home/{{ base_user_name }}/.bashrc", regexp: "^(.*)alias ll", line: "alias ll='ls -l'" }
  - { path: "/home/{{ base_user_name }}/.bashrc", regexp: "^(.*)alias la", line: "alias la='ls -Al'" }
  - { path: "/home/{{ base_user_name }}/.vimrc", regexp: "^(.*)set mouse-=a", line: "set mouse-=a" }
  - { path: "/home/{{ base_user_name }}/.vimrc", regexp: "^(.*)syntax on", line: "syntax on" }
  - { path: "/root/.bashrc", regexp: "^(.*)export LS_OPTIONS", line: "export LS_OPTIONS='--color=auto'" }
  - { path: "/root/.bashrc", regexp: "^(.*)alias ll=", line: "alias ll='ls $LS_OPTIONS -al'" }
  - { path: "/root/.bashrc", regexp: "^(.*)PS1", line: "PS1='${debian_chroot:+($debian_chroot)}\\[\\033[01;32m\\]\\u@\\h\\[\\033[00m\\]:\\[\\033[01;34m\\]\\w\\[\\033[00m\\]\\$ '" }
  - { path: "/root/.vimrc", regexp: "^(.*)set mouse-=a", line: "set mouse-=a" }
  - { path: "/root/.vimrc", regexp: "^(.*)syntax on", line: "syntax on" }
